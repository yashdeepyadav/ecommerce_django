{% extends 'store/main.html' %}
{% load static %}
{% block content %}
<div style="display: grid; grid-template-columns: 1fr 5fr;">
    <div>
        <div style="margin-top: 80px;">
            <h4>Filer By: </h4>
            <br>
            <h5>Category</h5>
            <h5>
              <a href="{% url 'store' %}" style="text-decoration: none; display: block;" class="link-secondary" title="All">All</a>
              {% for category in categories %}
              <a href="{% url 'store' %}?q={{category.name}}" style="text-decoration: none; display: block;" class="link-secondary" title="{{category.name}}">{{ category.name }}</a>
              {% endfor %}
             </h5>
        </div>
    </div>
    <div class="row">
      {% for product in products %}
      {% if product %}
      <div class="col-lg-4">
        <img class="thumbnail" src="{{product.imageURL}}" alt="">
        <div class="box-element product">
          <h6>
            <strong>{{product.name}}</strong>
            <span style="float: right;">â‚¹ {{product.price|floatformat:2}}</span>
            <br><span style="background-color: aliceblue;  color: black;">{{ product.category.name }}</span>
            <p class="text-muted">{{product.description |slice:":70"}}..</p> 
          </h6>
          <hr>
          <button data-product="{{product.id}}" data-action="add" class="btn btn-outline-secondary add-btn update-cart">Add to Cart</button>
          <a class="btn btn-outline-success" href="#">View</a>
        </div>
      </div>
      {% else %}
             {% for msg in message %}
                <div>{{msg.message}}</div>
             {% endfor %}
      {% endif %}
      {% endfor %}
    </div>
</div>

{% endblock content %}